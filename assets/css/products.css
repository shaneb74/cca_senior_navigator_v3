/* ===== PRODUCTS (shared product/module presentation) ===== */

.dashboard-card,
.sn-hub .dashboard-card {
  position: relative;
  background: var(--card, #ffffff);
  border: 1px solid #e6edf5;
  border-radius: var(--radius-lg, 20px);
  padding: 2rem;  /* Increased from 1.5rem for more breathing room */
  box-shadow: var(--shadow-sm, 0 1px 2px rgba(15, 23, 42, 0.06));
  transition: transform 0.16s ease, box-shadow 0.16s ease;
}

.dashboard-card:hover,
.sn-hub .dashboard-card:hover {
  box-shadow: var(--shadow-md, 0 6px 18px rgba(15, 23, 42, 0.1));
}

.sn-hub .dashboard-card.is-hoverable:hover {
  transform: translateY(-1px);
  box-shadow: var(--shadow-md, 0 6px 18px rgba(15, 23, 42, 0.1));
}

.ptile.dashboard-card,
.mtile.dashboard-card {
  position: relative;
}

/* Titles & status row */
/* header row */
.tile-row,
.dashboard-card__title-row {
  display: flex;
  align-items: flex-start;  /* Changed from center for better multi-line titles */
  justify-content: space-between;
  gap: 1rem;  /* Increased from 0.75rem */
  margin-bottom: 1rem;  /* Added consistent spacing after title row */
}

.tile-title,
.dashboard-card__title {
  margin: 0;
  font-size: 1.5rem;  /* Increased from 1.375rem (22px â†’ 24px) for more prominence */
  font-weight: var(--font-extrabold);  /* 800 for strong hierarchy */
  line-height: 1.3;  /* Slightly looser than --leading-snug for larger text */
  letter-spacing: -0.01em;  /* Optical adjustment for large bold text */
  color: var(--ink);
  max-width: 28ch;  /* Limit to readable measure */
}

.tile-subtitle,
.dashboard-card__subtitle {
  margin: 0.5rem 0 0;  /* Added top margin for breathing room */
  color: var(--ink-600);
  font-size: 1.0625rem;  /* 17px - slightly larger than body for "lead" feel */
  line-height: 1.6;  /* Relaxed for readability */
  font-weight: var(--font-medium);  /* 500 for subtle emphasis */
  max-width: 60ch;  /* Optimal reading line length */
}

/* Prominent recommendation display on completed tiles */
.tile-recommendation {
  display: block;
  font-size: var(--text-h3);
  font-weight: var(--font-semibold);
  color: var(--ink-900);
  margin: 0.75rem 0 0.5rem;
  line-height: var(--leading-snug);
}

/* Meta line chips */
.tile-meta,
.dashboard-card__meta {
  display: flex;
  flex-wrap: wrap;
  gap: 0.5rem 0.75rem;
  color: var(--ink-500);
  font-size: 0.875rem;  /* 14px - slightly smaller for meta info */
  line-height: var(--leading-normal);
  font-weight: var(--font-medium);  /* 500 for subtle emphasis */
  margin: 0 0 1.5rem 0;  /* Increased bottom margin for separation */
}

.tile-meta span {
  background: rgba(15, 23, 42, 0.04);  /* More subtle background */
  border: 1px solid rgba(15, 23, 42, 0.08);  /* Softer border */
  border-radius: 999px;
  padding: 0.3rem 0.65rem;  /* Slightly more padding */
  color: var(--ink-600);  /* Slightly darker for better readability */
}

.tile-value {
  font-size: var(--text-h4);
  font-weight: var(--font-bold);
  line-height: var(--leading-snug);
  color: var(--ink);
  margin: var(--space-3) 0;
}

.tile-status-note {
  margin-top: var(--space-4);
  font-size: var(--text-body-sm);
  line-height: var(--leading-normal);
  color: var(--ink-500);
}

/* CTAs */
/* CTA row: reuse global .btn but allow spacing */
.tile-actions,
.dashboard-card__actions {
  display: flex;
  flex-wrap: wrap;
  gap: 0.75rem;  /* Increased from 0.6rem for better button separation */
  margin-top: 1.75rem;  /* Increased from 0.5rem for clear separation from content */
  padding-top: 1.5rem;  /* Added padding-top for visual breathing room */
  border-top: 1px solid rgba(15, 23, 42, 0.06);  /* Subtle separator */
}

/* Large product tile wrapper */
.ptile {
  --tile-from: #f2f6ff;
  --tile-to: #eaf2ff;
  --tile-border: #d9e3f7;
  background: linear-gradient(180deg, var(--tile-from) 0%, var(--tile-to) 100%);
  border: 1px solid var(--tile-border);
  border-radius: 16px;
  box-shadow: 0 8px 28px rgba(16, 24, 40, 0.08);
  display: grid;
  gap: 1rem;  /* Increased from 0.75rem for better rhythm */
  padding: 1.75rem;  /* Increased from 1.25rem for more breathing room */
  position: relative;
}

.ptile[data-variant="brand"] {
  --tile-from: #eaf2ff;
  --tile-to: #d7e6ff;
  --tile-border: #bdd2ff;
}

.ptile[data-variant="success"] {
  --tile-from: #e8f8f0;
  --tile-to: #d9f3e8;
  --tile-border: #bfe8d7;
}

.ptile[data-variant="warn"] {
  --tile-from: #fff4e6;
  --tile-to: #ffe7cc;
  --tile-border: #ffd3a3;
}

.ptile[data-variant="violet"] {
  --tile-from: #f3e9ff;
  --tile-to: #e8d6ff;
  --tile-border: #d6baff;
}

.ptile[data-variant="teal"] {
  --tile-from: #e6fbff;
  --tile-to: #ccf6ff;
  --tile-border: #aeeaf5;
}

.ptile__head {
  display: flex;
  align-items: flex-start;  /* Changed from center for better multi-line handling */
  justify-content: space-between;
  gap: 1rem;  /* Increased from 0.75rem */
}

.ptile__heading {
  display: flex;
  flex-direction: column;
  gap: 0.75rem;  /* Increased from 0.5rem for better rhythm */
  flex: 1 1 auto;
}

.ptile__title-row {
  display: flex;
  flex-wrap: wrap;
  align-items: flex-start;  /* Changed from center */
  gap: 0.75rem;  /* Increased from 0.5rem */
}

.ptile__title-row .dashboard-status {
  margin-left: auto;
  margin-top: 0.125rem;  /* Slight optical adjustment for alignment */
}

/* Compact module tile */
.mtile {
  --mtile-border: #e2e8f0;
  background: #ffffff;
  border: 1px solid var(--mtile-border);
  border-radius: 14px;
  box-shadow: 0 4px 16px rgba(16, 24, 40, 0.06);
  display: grid;
  gap: 1rem;  /* Increased from 0.75rem for better rhythm */
  padding: 1.5rem;  /* Increased from 1.1rem for more breathing room */
}

/* Headings & status */
.dashboard-card__head {
  display: grid;
  gap: 1rem;  /* Increased from 0.75rem for more breathing room */
  margin-bottom: 1.25rem;  /* Increased from 0.5rem for clear separation */
}

.dashboard-status {
  display: inline-flex;
  align-items: center;
  gap: 0.35rem;
  padding: 0.3rem 0.65rem;  /* Slightly more padding */
  border-radius: 999px;
  background: rgba(37, 99, 235, 0.08);  /* Softer, more muted */
  color: #2563eb;  /* Less harsh than #1e40af */
  border: 1px solid rgba(37, 99, 235, 0.15);  /* Softer border */
  font-weight: var(--font-semibold);  /* 600 instead of 700 for softer feel */
  font-size: 0.6875rem;  /* 11px - slightly smaller */
  letter-spacing: 0.05em;  /* Slightly wider for legibility at small size */
  text-transform: uppercase;
}

.dashboard-description {
  margin: 0 0 1.25rem 0;  /* Added bottom margin for separation */
  color: var(--ink-600);
  font-size: 1rem;  /* Standard body size */
  line-height: 1.65;  /* Increased from 1.6 for more comfortable reading */
  font-weight: var(--font-regular);
  max-width: 62ch;  /* Optimal reading line length */
}

.dashboard-description::first-line {
  font-weight: var(--font-semibold);
  color: var(--ink);
  font-size: 1.0625rem;  /* Slightly larger hook */
  letter-spacing: var(--tracking-tight);
}

/* Lead sentence styling - make first paragraph stand out */
.dashboard-description strong:first-child,
.dashboard-description > strong {
  font-weight: var(--font-semibold);  /* 600 for subtle emphasis */
  color: var(--ink);  /* Darker for emphasis */
}

/* Buttons used inside tiles - Enhanced for product context */
/* CTA legacy helpers (match welcome page hero buttons exactly) */
.dashboard-cta {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 0.5rem;
  height: 44px;  /* Increased from 42px for better touch target */
  padding: 0 20px;  /* Increased from 16px for more comfortable padding */
  border-radius: 12px;
  font-weight: var(--font-bold);
  font-size: 1rem;  /* Explicit 16px */
  line-height: var(--leading-normal);
  border: 1px solid transparent;
  text-decoration: none;
  transition: all 0.2s ease;  /* Slightly longer for smoother feel */
}

/* PRIMARY buttons - match "Start Now" (blue) */
.dashboard-cta--primary {
  background: var(--brand-600);
  color: #ffffff !important;
  border-color: var(--brand-700);
}

.dashboard-cta--primary:hover,
.dashboard-cta--primary:focus-visible {
  background: var(--brand-700);
  box-shadow: var(--focus-ring);
  color: #ffffff !important;
}

/* SECONDARY/GHOST buttons - match "Log in" (white with gray border) */
.dashboard-cta--ghost,
.dashboard-cta--secondary {
  background: #ffffff;
  color: var(--ink-700);
  border: 1px solid rgba(71, 85, 105, 0.22);
}

.dashboard-cta--ghost:hover,
.dashboard-cta--ghost:focus-visible,
.dashboard-cta--secondary:hover,
.dashboard-cta--secondary:focus-visible {
  border-color: rgba(71, 85, 105, 0.38);
  color: var(--ink);
  background: #ffffff;
}

.dashboard-cta.is-disabled {
  opacity: 0.6;
  pointer-events: none;
}

/* Badges */
.dashboard-badges {
  display: flex;
  flex-wrap: wrap;
  gap: 0.5rem;
}

.badge {
  display: inline-flex;
  align-items: center;
  gap: 0.35rem;
  padding: 0.3rem 0.65rem;  /* Slightly more padding */
  border-radius: 999px;
  font-weight: var(--font-semibold);  /* 600 instead of 700 for softer feel */
  font-size: 0.6875rem;  /* 11px - smaller and less intrusive */
  letter-spacing: 0.05em;  /* Slightly wider for legibility */
  text-transform: uppercase;
}

.badge--brand {
  background: rgba(37, 99, 235, 0.08);  /* More muted */
  color: #2563eb;
  border: 1px solid rgba(37, 99, 235, 0.15);
}

.badge--neutral {
  background: rgba(15, 23, 42, 0.04);  /* Softer gray */
  color: var(--ink-600);
  border: 1px solid rgba(15, 23, 42, 0.08);
}

/* Step chip - softer styling */
.badge--step {
  font-size: 0.6875rem;  /* 11px */
  font-weight: var(--font-medium);  /* 500 for softer feel */
  padding: 0.3rem 0.65rem;
  border-radius: 999px;
  background: rgba(15, 23, 42, 0.04);
  color: var(--ink-500);
  border: 1px solid rgba(15, 23, 42, 0.08);
  margin-left: auto;
}

/* Locked modifier */
.ptile.is-locked .dashboard-cta,
.dashboard-cta.is-disabled {
  opacity: 0.55;
  cursor: not-allowed;
}

/* === Tile logo (square) === */
.ptile .tile-logo {
  width: 96px;
  height: 96px;
  border-radius: 12px;
  background: var(--surface-subtle, #f5f7fa);
  background-repeat: no-repeat;
  background-position: center;
  background-size: contain;
  display: flex;
  align-items: center;
  justify-content: center;
  margin: 0 0 .5rem 0;
  position: relative;
}
.ptile .tile-logo-img {
  max-width: 100%;
  max-height: 100%;
  width: 100%;
  height: 100%;
  object-fit: contain;
  display: block !important;
  opacity: 1 !important;
  visibility: visible !important;
  position: relative;
  z-index: 1;
}

.ptile .tile-logo-debug {
  font-size: 10px;
  opacity: 0.35;
  margin-top: 2px;
}

/* === Step chip === */
.badge--step {
  font-size: 0.6875rem;  /* 11px */
  font-weight: var(--font-medium);  /* 500 for softer feel */
  padding: 0.3rem 0.65rem;
  border-radius: 999px;
  background: rgba(15, 23, 42, 0.04);
  color: var(--ink-500);
  border: 1px solid rgba(15, 23, 42, 0.08);
  margin-left: auto;
}

/* === Lock overlay & message === */
.ptile .icon-lock {
  position: absolute;
  top: .75rem;
  right: .75rem;
  width: 1rem;
  height: 1rem;
  mask: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 24 24'><path fill='black' d='M17 8h-1V6a4 4 0 1 0-8 0v2H7a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2v-8a2 2 0 0 0-2-2m-6 8.73V17a1 1 0 1 1 2 0v-.27a2 2 0 1 1-2 0M9 8V6a3 3 0 1 1 6 0v2z'/></svg>") center / contain no-repeat;
  background: currentColor;
  color: var(--ink-400);  /* Lighter for softer appearance */
  opacity: 0.6;  /* Make lock icon more subtle */
}
.ptile.tile--locked {
  opacity: .85;  /* Slightly less dimmed */
}
.ptile .tile-lock-msg {
  margin-top: 0.75rem;  /* Increased spacing */
  font-size: 0.9375rem;  /* 15px - slightly larger for readability */
  line-height: 1.55;  /* Better readability */
  color: var(--ink-500);  /* Slightly darker for better contrast */
  max-width: 48ch;  /* Better measure for multi-line messages */
}

/* MCIP Recommended Tile Gradient */
.ptile.tile--recommended {
  background: linear-gradient(135deg,
    rgba(224, 229, 237, 0.75) 0%,     /* Soft silver gleam */
    rgba(242, 244, 248, 0.9) 48%,     /* Misty highlight */
    rgba(255, 255, 255, 0.95) 100%    /* Gentle fade */
  );
  border-color: rgba(186, 193, 205, 0.6);
}

.ptile.tile--recommended:hover {
  background: linear-gradient(135deg,
    rgba(214, 220, 231, 0.9) 0%,
    rgba(238, 241, 247, 0.95) 50%,
    rgba(255, 255, 255, 0.98) 100%
  );
  border-color: rgba(176, 185, 198, 0.75);
}

/* === Hub guide order messaging === */
.hub-guide--order {
  display: grid;
  gap: .75rem;
  align-content: start;
}
.hub-guide--order .btn--primary {
  justify-self: start;
}
.mcip-msg {
  font-weight: 700;
  color: var(--ink-700, #1f2937);
}
.mcip-sub {
  font-size: .95rem;
  color: var(--ink-500, #475569);
}
.mcip-extra {
  font-size: .95rem;
  color: var(--ink-600, #334155);
  line-height: 1.55;
}

.dashboard-empty {
  padding: 1.5rem;
  border-radius: 16px;
  background: #f8faff;
  color: var(--ink-500);
  text-align: center;
  font-weight: 500;
}

/* Module engine hooks */
.mod-head{margin:24px 0 16px;display:grid;gap:12px;}
.mod-head .mod-steps{display:flex;gap:8px;}
.step-pill{width:10px;height:10px;border-radius:50%;background:#dbe7fe;display:inline-block;}
.step-pill.is-active{background:var(--brand-600);}
.mod-head-row{display:flex;align-items:center;gap:12px;}
.mod-back{color:var(--ink-600);text-decoration:none;font-weight:600;}
.mod-back:hover{color:var(--brand-600);}
.mod-label{font-weight:600;margin:12px 0 6px;}
.mod-help{color:var(--ink-600);margin-bottom:8px;font-size:.95rem;}
.mod-bottom{position:sticky;bottom:0;background:#fff;border-top:1px solid var(--divider,#e2e8f0);padding:10px 16px;display:flex;gap:24px;justify-content:center;flex-wrap:wrap;}
.mod-bottom .sum-item{display:grid;gap:2px;text-align:center;}
.mod-bottom .sum-item .meta{font-size:.8rem;color:var(--ink-500);}
.mod-bottom .sum-item .value{font-weight:700;color:var(--ink-700);}
.visually-hidden{position:absolute!important;height:1px;width:1px;overflow:hidden;clip:rect(1px,1px,1px,1px);}
.mod-flags{display:flex;gap:8px;margin:12px 0 24px;flex-wrap:wrap;}

/* Partners: cards reuse .ptile; add minimal extras */
.ptile[data-variant="partner"] {
  border-color: rgba(37, 99, 235, 0.25);
  box-shadow: 0 10px 22px rgba(37, 99, 235, 0.08);
}

/* ===== PRODUCT TILE RESPONSIVE ADJUSTMENTS ===== */

@media (max-width: 900px) {
  .dashboard-card,
  .sn-hub .dashboard-card {
    padding: 1.5rem;  /* Slightly less padding on smaller screens */
  }
  
  .ptile {
    padding: 1.5rem;
    gap: 0.875rem;
  }
  
  .tile-title,
  .dashboard-card__title {
    font-size: 1.375rem;  /* Slightly smaller on mobile (22px) */
  }
  
  .tile-actions,
  .dashboard-card__actions {
    margin-top: 1.5rem;
    padding-top: 1.25rem;
  }
}

@media (max-width: 640px) {
  .dashboard-card,
  .sn-hub .dashboard-card {
    padding: 1.25rem;
  }
  
  .tile-title,
  .dashboard-card__title {
    font-size: 1.25rem;  /* 20px on small mobile */
    max-width: 100%;  /* Allow full width on small screens */
  }
  
  .tile-subtitle,
  .dashboard-card__subtitle {
    font-size: 1rem;  /* 16px on small mobile */
  }
  
  .dashboard-cta {
    width: 100%;  /* Full width buttons on mobile for easier tapping */
  }
}
